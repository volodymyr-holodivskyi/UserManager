<app-header></app-header>
<div class="main d-flex">
  <app-aside class="col-md-1"></app-aside>

  <div class="container">
    <div class="d-flex">
      <div class="container col-md-6 py-3">
        <table class="table table-dark table-striped col-md-12">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Name</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users; let i = index">
              <td>{{ user.id }}</td>
              <td>
                <a [routerLink]="['/users', user.id]">{{ user.name }}</a>
              </td>
              <td>
                <button class="btn btn-light" (click)="deleteUser(user.id)">
                  X
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="d-flex justify-content-center">
          <div>
            <button class="btn" (click)="prevPage()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-arrow-left-circle-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"
                />
              </svg>
            </button>
            <button class="btn" (click)="nextPage()">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-arrow-right-circle-fill"
                viewBox="0 0 16 16"
              >
                <path
                  d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <form class="container col-md-6 py-3">
        <div class="form-floating mb-5">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="userName"
            #name="ngModel"
            name="name"
            id="name"
            placeholder="name@example.com"
            pattern="[a-zA-Z]+"
            autocomplete="off"
            required
            pattern="[a-zA-Z]+"
          />
          <label for="floatingInput">Name</label>
          <div
            *ngIf="name.invalid && name.dirty && name.value !== ''"
            class="alert alert-danger"
          >
            Incorect name.Only latin letters permitted
          </div>
        </div>
        <div class="form-floating mb-5">
          <input
            type="email"
            class="form-control"
            [(ngModel)]="userEmail"
            #email="ngModel"
            name="email"
            id="email"
            placeholder="name@example.com"
            autocomplete="off"
            required
            pattern="[a-zA-Z0-9_]{3,}\@[a-z]{2,8}\.[a-z]{2,4}"
          />
          <label for="floatingInput">Email address</label>
          <div
            *ngIf="email.invalid && email.dirty && email.value !== ''"
            class="alert alert-danger"
          >
            Incorect email.Email example:name@gmail.com
          </div>
        </div>
        <div class="form-floating mb-5">
          <input
            type="password"
            class="form-control"
            [(ngModel)]="userPassword"
            #password="ngModel"
            name="password"
            id="password"
            placeholder="Password"
            required
            pattern="[a-zA-Z0-9_]{4,16}"
          />
          <label for="floatingPassword">Password</label>
          <div
            *ngIf="password.invalid && password.dirty && password.value !== ''"
            class="alert alert-danger"
          >
            Incorect password.You can use only latin letters,numbers and _
          </div>
        </div>
        <div class="d-flex justify-content-center my-5 pt-3">
          <button
            class="btn btn-primary"
            [disabled]="
              name.invalid ||
              name.pristine ||
              password.invalid ||
              password.pristine ||
              email.invalid ||
              email.pristine
            "
            (click)="addUser()"
          >
            Add User
          </button>
        </div>
      </form>
    </div>
    <div class="col-md-3 mx-auto">
      <div toastContainer></div>
    </div>
  </div>
</div>
<app-footer></app-footer>
